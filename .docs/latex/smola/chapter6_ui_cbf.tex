\subsubsection*{6.2.1 Panel debugowania Content-Based Filtering}

System oferuje zaawansowany panel debugowania dostępny przez endpoint \texttt{/api/content-based-debug/}. Panel prezentuje:

\textbf{Widok ogólny (bez parametru product\_id)}:

\begin{itemize}
    \item \textbf{Szczegóły algorytmu}: nazwa, metoda (Weighted Feature Vectors + Cosine Similarity), status
    \item \textbf{Wagi cech}: category (40\%), tag (30\%), price (20\%), keywords (10\%)
    \item \textbf{Statystyki bazy danych}: liczba produktów, zapisanych podobieństw, procent pokrycia
    \item \textbf{Status cache}: HIT/MISS, czas wygaśnięcia
    \item \textbf{Top 10 podobieństw}: produkty o najwyższym podobieństwie w systemie
\end{itemize}

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.92\textwidth]{images/contentBasedAdminDebug1.jpg}
  \caption{Panel debugowania Content-Based Filtering.}
  \label{fig:cbf_debug1}
\end{figure}

\textbf{Widok szczegółowy (z parametrem product\_id)}:

Dla konkretnego produktu panel pokazuje:

\begin{itemize}
    \item Wektor cech produktu z wagami (słownik feature → weight)
    \item Top 10 produktów podobnych z szczegółami obliczeń
    \item Wzór matematyczny dla każdej pary: $\frac{dot\_product}{norm_1 \times norm_2}$
    \item Cechy wspólne między produktami
    \item Breakdown podobieństwa: ile % z kategorii, ile z tagów, ile z ceny, ile z keywords
\end{itemize}

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.92\textwidth]{images/contentBasedAdminDebug2.jpg}
  \caption{CBF - szczegółowa analiza podobieństwa produktu.}
  \label{fig:cbf_debug2}
\end{figure}

Panel umożliwia administratorowi:
\begin{itemize}
    \item Monitorowanie pokrycia rekomendacji (ile produktów ma podobieństwa)
    \item Identyfikację produktów bez podobieństw (słabo opisane metadane)
    \item Walidację działania wag (czy kategorie dominują prawidłowo)
    \item Ręczne wyzwalanie przeliczenia macierzy
\end{itemize}

\subsubsection*{6.2.2 Interfejs użytkownika - sortowanie według CBF}

Metoda Content-Based Filtering jest wykorzystywana jako jedna z opcji sortowania produktów na stronie głównej sklepu. Administrator może wybrać algorytm CBF w ustawieniach systemu rekomendacji, co powoduje wyświetlanie produktów podobnych do tych, które użytkownik wcześniej przeglądał lub kupił.

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.92\textwidth]{images/contentBasedAdmin1.jpg}
  \caption{Panel administratora - rekomendacje CBF.}
  \label{fig:cbf_admin}
\end{figure}

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.92\textwidth]{images/fuzzyLogicAdmin1.jpg}
  \caption{Panel administratora - rekomendacje Fuzzy Logic.}
  \label{fig:fuzzy_admin}
\end{figure}

Porównanie rysunków \ref{fig:cbf_admin} i \ref{fig:fuzzy_admin} demonstruje kluczową różnicę między metodami: przełączenie algorytmu z Content-Based Filtering na Fuzzy Logic powoduje natychmiastową zmianę rekomendowanych produktów. CBF poleca produkty o podobnych cechach (kategoria, tagi, cena), podczas gdy Fuzzy Logic uwzględnia dodatkowo rozmyty profil użytkownika i reguły wnioskowania.

\begin{figure}[h!]
  \centering
  \includegraphics[width=\textwidth]{images/contentBasedSequenceDiagram.png}
  \caption{Diagram sekwencji - Content-Based Filtering.}
  \label{fig:cbf_sequence}
\end{figure}

Proces generowania rekomendacji CBF przebiega następująco:
\begin{enumerate}
    \item Klient przegląda produkt na stronie ProductPage
    \item Frontend wysyła żądanie GET do \newline
    \texttt{/api/recommendations/content-based/?product\_id=\{id\}}
    \item Backend (ContentBasedAPI) wykonuje zapytanie do modelu ProductSimilarity
    \item Model pobiera top 10 podobnych produktów z bazy danych (sortowanie po \texttt{-similarity\_score})
    \item Backend zwraca odpowiedź 200 OK z listą rekomendacji (product\_id, name, price, similarity\_score)
    \item Frontend wyświetla sekcję "Podobne produkty" na stronie produktu
\end{enumerate}

Rekomendacje CBF są również dostępne w panelu klienta, gdzie użytkownik może zobaczyć produkty podobne do swoich poprzednich zakupów. System automatycznie identyfikuje produkty z wysokim współczynnikiem podobieństwa (powyżej 20\%) i prezentuje je w sekcji spersonalizowanych rekomendacji.

\newpage

\section*{Rozdzia\l{} 6}
