{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{motion}from\"framer-motion\";import{Code,Brain,MessageSquare,Link2,Grid,Sparkles,TrendingUp}from\"lucide-react\";import config from\"../../config/config\";import{toast}from\"react-toastify\";import\"./AdminPanel.scss\";/**\n * AdminDebug Component\n *\n * Comprehensive debugging interface for SmartRecommender's recommendation algorithms.\n * Provides detailed diagnostic information, performance metrics, and algorithm visualization\n * for all recommendation strategies implemented in the system.\n *\n * Supported Algorithms:\n *   1. Collaborative Filtering (CF) - Adjusted Cosine Similarity (Sarwar et al., 2001)\n *      Formula: sim(i,j) = Σ(R_u,i - R̄_u)(R_u,j - R̄_u) / √[Σ(R_u,i - R̄_u)² × Σ(R_u,j - R̄_u)²]\n *\n *   2. Sentiment Analysis - TextBlob polarity scoring\n *      Formula: sentiment = (positive_words - negative_words) / total_words\n *\n *   3. Content-Based Filtering - TF-IDF + Cosine Similarity\n *      Formula: cos(θ) = (A · B) / (||A|| × ||B||)\n *\n *   4. Association Rules - Apriori Algorithm (Agrawal & Srikant, 1994)\n *      Metrics: Support, Confidence, Lift\n *\n *   5. Fuzzy Logic - Membership functions + Defuzzification\n *      Methods: Triangular, Trapezoidal, Gaussian membership\n *\n *   6. Probabilistic Models - Naive Bayes, Markov Chains\n *      Formulas: P(A|B) = P(B|A)P(A) / P(B)\n *\n * Features:\n *   - Real-time algorithm diagnostics\n *   - Matrix visualization and statistics\n *   - Performance metrics tracking\n *   - Cache monitoring\n *   - Interactive debugging tools\n *   - Modal views for detailed data\n *   - Pagination for large datasets\n *\n * @component\n * @returns {React.ReactElement} Admin debug dashboard with tabbed interface\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminDebug=()=>{// ============================================================================\n// STATE MANAGEMENT\n// ============================================================================\n/** @type {[string, Function]} Active debugging tab/method */const[activeMethod,setActiveMethod]=useState(\"collaborative\");/** @type {[Object|null, Function]} Collaborative filtering debug data */const[cfDebugData,setCfDebugData]=useState(null);/** @type {[Object|null, Function]} Sentiment analysis debug data */const[sentimentDebugData,setSentimentDebugData]=useState(null);/** @type {[Object|null, Function]} Detailed sentiment data for specific product */const[sentimentDetailData,setSentimentDetailData]=useState(null);/** @type {[Object|null, Function]} Association rules debug data */const[associationDebugData,setAssociationDebugData]=useState(null);/** @type {[Object|null, Function]} Content-based filtering debug data */const[contentBasedDebugData,setContentBasedDebugData]=useState(null);/** @type {[Object|null, Function]} Fuzzy logic debug data */const[fuzzyLogicDebugData,setFuzzyLogicDebugData]=useState(null);/** @type {[Object|null, Function]} Probabilistic models debug data */const[probabilisticDebugData,setProbabilisticDebugData]=useState(null);/** @type {[string, Function]} Selected product ID for detail views */const[selectedProductId,setSelectedProductId]=useState(\"\");/** @type {[string, Function]} Selected user ID for detail views */const[selectedUserId,setSelectedUserId]=useState(\"\");/** @type {[Array, Function]} List of all products */const[users,setUsers]=useState([]);/** @type {[Array, Function]} List of all users */const[products,setProducts]=useState([]);/** @type {[boolean, Function]} Loading state for async operations */const[loading,setLoading]=useState(false);// Modal state for all similarities view\n/** @type {[boolean, Function]} Modal visibility toggle */const[showAllSimilaritiesModal,setShowAllSimilaritiesModal]=useState(false);/** @type {[Array, Function]} All CF similarities data */const[allSimilarities,setAllSimilarities]=useState([]);/** @type {[boolean, Function]} Loading state for similarities fetch */const[allSimilaritiesLoading,setAllSimilaritiesLoading]=useState(false);/** @type {[number, Function]} Current page number for pagination */const[similaritiesPage,setSimilaritiesPage]=useState(1);/** @const {number} Items per page in similarities modal */const similaritiesPerPage=50;// ============================================================================\n// LIFECYCLE HOOKS\n// ============================================================================\n/**\n   * Initialize component by fetching reference data (products and users).\n   * Runs once on component mount.\n   */useEffect(()=>{fetchProducts();fetchUsers();},[]);/**\n   * Handle tab switching and fetch appropriate debug data.\n   * Resets selections and fetches new data when active method changes.\n   */useEffect(()=>{setSelectedProductId(\"\");setSelectedUserId(\"\");setSentimentDetailData(null);setAssociationDebugData(null);setContentBasedDebugData(null);setFuzzyLogicDebugData(null);setProbabilisticDebugData(null);if(activeMethod===\"collaborative\"){fetchCFDebug();}else if(activeMethod===\"sentiment\"){fetchSentimentDebug();}else if(activeMethod===\"content\"){fetchContentBasedDebug();}else if(activeMethod===\"fuzzy\"){fetchFuzzyLogicDebug();}else if(activeMethod===\"probabilistic\"){fetchProbabilisticDebug();}},[activeMethod]);// ============================================================================\n// DATA FETCHING FUNCTIONS\n// ============================================================================\n/**\n   * Fetch all products from the database.\n   * Used for dropdown selections and reference data.\n   *\n   * @async\n   * @function fetchProducts\n   * @returns {Promise<void>}\n   */const fetchProducts=async()=>{try{const token=localStorage.getItem(\"access\");const res=await axios.get(`${config.apiUrl}/api/products/`,{headers:{Authorization:`Bearer ${token}`}});setProducts(res.data.results||res.data||[]);}catch(err){console.error(\"Error fetching products:\",err);}};/**\n   * Fetch all users from the database.\n   * Used for dropdown selections and reference data.\n   *\n   * @async\n   * @function fetchUsers\n   * @returns {Promise<void>}\n   */const fetchUsers=async()=>{try{const token=localStorage.getItem(\"access\");const res=await axios.get(`${config.apiUrl}/api/users/`,{headers:{Authorization:`Bearer ${token}`}});setUsers(res.data||[]);}catch(err){console.error(\"Error fetching users:\",err);}};/**\n   * Fetch Collaborative Filtering debug information.\n   *\n   * Retrieves detailed CF algorithm diagnostics including:\n   *   - User-product interaction matrix statistics\n   *   - Similarity computation results\n   *   - Top 10 similar product pairs\n   *   - Cache status\n   *   - System health indicators\n   *\n   * Algorithm: Adjusted Cosine Similarity (Sarwar et al., 2001)\n   * Formula: sim(i,j) = Σ_u∈U(R_u,i - R̄_u)(R_u,j - R̄_u) / √[Σ_u∈U(R_u,i - R̄_u)² × Σ_u∈U(R_u,j - R̄_u)²]\n   *\n   * @async\n   * @function fetchCFDebug\n   * @returns {Promise<void>}\n   */const fetchCFDebug=async()=>{setLoading(true);const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/collaborative-filtering-debug/`,{headers:{Authorization:`Bearer ${token}`}});setCfDebugData(res.data);}catch(err){console.error(\"Error fetching CF debug:\",err);toast.error(\"Failed to fetch Collaborative Filtering debug data.\");}finally{setLoading(false);}};/**\n   * Fetch all Collaborative Filtering similarities from database.\n   *\n   * Retrieves complete list of product-product similarities computed using\n   * Adjusted Cosine Similarity algorithm. Used for detailed analysis and\n   * modal view with pagination.\n   *\n   * Features:\n   *   - Fetches up to 10,000 similarity records\n   *   - Formats data for modal table display\n   *   - Handles empty results gracefully\n   *   - Provides user feedback via toasts\n   *\n   * @async\n   * @function fetchAllSimilarities\n   * @returns {Promise<void>}\n   */const fetchAllSimilarities=async()=>{setAllSimilaritiesLoading(true);const token=localStorage.getItem(\"access\");try{// Fetch all collaborative filtering similarities from dedicated endpoint\nconst res=await axios.get(`${config.apiUrl}/api/all-collaborative-similarities/?limit=10000`,{headers:{Authorization:`Bearer ${token}`}});// Format data for modal table structure\nconst formattedSimilarities=res.data.results?res.data.results.map(sim=>{var _sim$product,_sim$product2,_sim$product3,_sim$product4;return{product1_id:(_sim$product=sim.product1)===null||_sim$product===void 0?void 0:_sim$product.id,product1_name:((_sim$product2=sim.product1)===null||_sim$product2===void 0?void 0:_sim$product2.name)||\"Unknown Product\",product2_id:(_sim$product3=sim.product2)===null||_sim$product3===void 0?void 0:_sim$product3.id,product2_name:((_sim$product4=sim.product2)===null||_sim$product4===void 0?void 0:_sim$product4.name)||\"Unknown Product\",score:sim.similarity_score};}):[];setAllSimilarities(formattedSimilarities);if(formattedSimilarities.length===0){toast.info(\"No collaborative similarities found in database.\");}}catch(err){console.error(\"Error fetching all similarities:\",err);toast.error(\"Failed to fetch all similarities.\");setAllSimilarities([]);}finally{setAllSimilaritiesLoading(false);}};/**\n   * Open modal displaying all CF similarities.\n   *\n   * Triggers data fetch if not already loaded. Modal displays paginated\n   * table of all product-product similarity scores.\n   *\n   * @function openAllSimilaritiesModal\n   * @returns {void}\n   */const openAllSimilaritiesModal=()=>{setShowAllSimilaritiesModal(true);if(allSimilarities.length===0){fetchAllSimilarities();}};/**\n   * Close similarities modal and reset pagination.\n   *\n   * @function closeAllSimilaritiesModal\n   * @returns {void}\n   */const closeAllSimilaritiesModal=()=>{setShowAllSimilaritiesModal(false);setSimilaritiesPage(1);};const fetchSentimentDebug=async()=>{setLoading(true);const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/sentiment-analysis-debug/`,{headers:{Authorization:`Bearer ${token}`}});setSentimentDebugData(res.data);}catch(err){console.error(\"Error fetching Sentiment debug:\",err);toast.error(\"Failed to fetch Sentiment Analysis debug data.\");}finally{setLoading(false);}};const fetchSentimentDetailDebug=async productId=>{if(!productId)return;setLoading(true);const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/sentiment-product-debug/?product_id=${productId}`,{headers:{Authorization:`Bearer ${token}`}});setSentimentDetailData(res.data);}catch(err){console.error(\"Error fetching Sentiment detail debug:\",err);toast.error(\"Failed to fetch detailed sentiment analysis.\");}finally{setLoading(false);}};const fetchAssociationDebug=async productId=>{if(!productId)return;setLoading(true);const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/product-association-debug/?product_id=${productId}`,{headers:{Authorization:`Bearer ${token}`}});setAssociationDebugData(res.data);}catch(err){console.error(\"Error fetching Association debug:\",err);toast.error(\"Failed to fetch Association Rules debug data.\");}finally{setLoading(false);}};const fetchContentBasedDebug=async function(){let productId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setLoading(true);const token=localStorage.getItem(\"access\");try{const url=productId?`${config.apiUrl}/api/content-based-debug/?product_id=${productId}`:`${config.apiUrl}/api/content-based-debug/`;const res=await axios.get(url,{headers:{Authorization:`Bearer ${token}`}});setContentBasedDebugData(res.data);}catch(err){console.error(\"Error fetching Content-Based debug:\",err);toast.error(\"Failed to fetch Content-Based Filtering debug data.\");}finally{setLoading(false);}};const fetchFuzzyLogicDebug=async function(){let productId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let userId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;setLoading(true);const token=localStorage.getItem(\"access\");try{let url=`${config.apiUrl}/api/fuzzy-logic-debug/?`;if(productId)url+=`product_id=${productId}&`;if(userId)url+=`user_id=${userId}`;const res=await axios.get(url,{headers:{Authorization:`Bearer ${token}`}});setFuzzyLogicDebugData(res.data);}catch(err){console.error(\"Error fetching Fuzzy Logic debug:\",err);toast.error(\"Failed to fetch Fuzzy Logic debug data.\");}finally{setLoading(false);}};const fetchProbabilisticDebug=async function(){let productId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let userId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;setLoading(true);const token=localStorage.getItem(\"access\");try{let url=`${config.apiUrl}/api/probabilistic-debug/?`;if(productId)url+=`product_id=${productId}&`;if(userId)url+=`user_id=${userId}`;const res=await axios.get(url,{headers:{Authorization:`Bearer ${token}`}});setProbabilisticDebugData(res.data);}catch(err){console.error(\"Error fetching Probabilistic debug:\",err);toast.error(\"Failed to fetch Probabilistic Models debug data.\");}finally{setLoading(false);}};const handleProductSelect=e=>{const productId=e.target.value;setSelectedProductId(productId);if(productId){if(activeMethod===\"sentiment\"){fetchSentimentDetailDebug(productId);}else if(activeMethod===\"association\"){fetchAssociationDebug(productId);}else if(activeMethod===\"content\"){fetchContentBasedDebug(productId);}else if(activeMethod===\"fuzzy\"){fetchFuzzyLogicDebug(productId,selectedUserId);}else if(activeMethod===\"probabilistic\"){fetchProbabilisticDebug(productId,selectedUserId);}}};const handleUserSelect=e=>{const userId=e.target.value;setSelectedUserId(userId);if(activeMethod===\"fuzzy\"){fetchFuzzyLogicDebug(selectedProductId,userId);}else if(activeMethod===\"probabilistic\"){fetchProbabilisticDebug(selectedProductId,userId);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"debug-container\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"debug-header\",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"debug-title\",children:[/*#__PURE__*/_jsx(Code,{className:\"debug-icon\"}),\"Debug Tools - ML Methods Inspector\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"debug-description\",children:\"Inspect internal workings of all 7 machine learning methods used in SmartRecommender.\"})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"method-selector\",initial:{opacity:0},animate:{opacity:1},transition:{delay:0.1},children:[/*#__PURE__*/_jsxs(\"button\",{className:`method-tab ${activeMethod===\"collaborative\"?\"active\":\"\"}`,onClick:()=>setActiveMethod(\"collaborative\"),children:[/*#__PURE__*/_jsx(Brain,{className:\"tab-icon\"}),\"Collaborative Filtering\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`method-tab ${activeMethod===\"sentiment\"?\"active\":\"\"}`,onClick:()=>setActiveMethod(\"sentiment\"),children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"tab-icon\"}),\"Sentiment Analysis\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`method-tab ${activeMethod===\"association\"?\"active\":\"\"}`,onClick:()=>setActiveMethod(\"association\"),children:[/*#__PURE__*/_jsx(Link2,{className:\"tab-icon\"}),\"Association Rules\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`method-tab ${activeMethod===\"content\"?\"active\":\"\"}`,onClick:()=>setActiveMethod(\"content\"),children:[/*#__PURE__*/_jsx(Grid,{className:\"tab-icon\"}),\"Content-Based\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`method-tab ${activeMethod===\"fuzzy\"?\"active\":\"\"}`,onClick:()=>setActiveMethod(\"fuzzy\"),children:[/*#__PURE__*/_jsx(Sparkles,{className:\"tab-icon\"}),\"Fuzzy Logic\"]}),/*#__PURE__*/_jsxs(\"button\",{className:`method-tab ${activeMethod===\"probabilistic\"?\"active\":\"\"}`,onClick:()=>setActiveMethod(\"probabilistic\"),children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"tab-icon\"}),\"Probabilistic\"]})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"debug-content\",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:0.3},children:[loading?/*#__PURE__*/_jsx(\"div\",{className:\"debug-loading\",children:\"Loading debug data...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[activeMethod===\"collaborative\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-section cf-debug\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Collaborative Filtering Debug Information\"}),cfDebugData?/*#__PURE__*/_jsxs(_Fragment,{children:[cfDebugData.algorithm&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Algorithm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.algorithm})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.formula})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:cfDebugData.status})]})]})]}),cfDebugData.database_stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Database Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Users:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.database_stats.total_users})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Products:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.database_stats.total_products})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Order Items:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.database_stats.total_order_items})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Users with Purchases:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.database_stats.users_with_purchases})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Purchases:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.database_stats.total_purchases})]})]})]}),cfDebugData.matrix_info&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User-Product Matrix\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Shape:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.matrix_info.shape})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Cells:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.matrix_info.total_cells})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Non-Zero Cells:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.matrix_info.non_zero_cells})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Sparsity:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[cfDebugData.matrix_info.sparsity_percentage,\"%\"]})]})]})]}),cfDebugData.similarity_matrix_info&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Similarity Matrix\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Expected Shape:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.similarity_matrix_info.expected_shape})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Possible Pairs:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.similarity_matrix_info.total_possible_pairs})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Saved Similarities:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.similarity_matrix_info.saved_similarities})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Percentage Saved:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[cfDebugData.similarity_matrix_info.percentage_saved,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Threshold:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.similarity_matrix_info.threshold})]})]})]}),cfDebugData.cache_info&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cache\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:cfDebugData.cache_info.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Cached Value:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.cache_info.cached_value})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Timeout:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.cache_info.timeout})]})]})]}),cfDebugData.top_10_similarities&&cfDebugData.top_10_similarities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top 10 Similar Product Pairs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"similarities-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 2\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Score\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cfDebugData.top_10_similarities.map((sim,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:sim.product1_name}),/*#__PURE__*/_jsx(\"td\",{children:sim.product2_name}),/*#__PURE__*/_jsx(\"td\",{className:\"similarity-value\",children:sim.score.toFixed(4)})]},index))})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"view-all-btn\",onClick:openAllSimilaritiesModal,style:{marginTop:\"10px\"},children:\"View All Similarities\"})]}),cfDebugData.sample_user_vector&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Sample User Vector (User #\",cfDebugData.sample_user_vector.user_id,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Purchases:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.sample_user_vector.total_purchases})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Vector Length:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:cfDebugData.sample_user_vector.vector_length})]})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"Loading...\"})})]}),activeMethod===\"sentiment\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-section sentiment-debug\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Sentiment Analysis Debug Information\"}),sentimentDebugData?/*#__PURE__*/_jsxs(_Fragment,{children:[sentimentDebugData.total_sentiments>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sentiment Distribution\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Sentiments:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDebugData.total_sentiments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Positive:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value success\",children:[sentimentDebugData.positive_count,\" (\",sentimentDebugData.positive_percentage,\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Negative:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value error\",children:[sentimentDebugData.negative_count,\" (\",sentimentDebugData.negative_percentage,\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Neutral:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[sentimentDebugData.neutral_count,\" (\",sentimentDebugData.neutral_percentage,\"%)\"]})]})]})]}),sentimentDebugData.top_positive&&sentimentDebugData.top_positive.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top Products by Positive Sentiment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sentiment-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Avg Sentiment\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Reviews\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sentimentDebugData.top_positive.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.product_name}),/*#__PURE__*/_jsx(\"td\",{className:\"sentiment-positive\",children:item.avg_sentiment.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:item.review_count})]},index))})]})})]}),sentimentDebugData.top_negative&&sentimentDebugData.top_negative.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top Products by Negative Sentiment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sentiment-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Avg Sentiment\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Reviews\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sentimentDebugData.top_negative.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.product_name}),/*#__PURE__*/_jsx(\"td\",{className:\"sentiment-negative\",children:item.avg_sentiment.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:item.review_count})]},index))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Detailed Product Sentiment Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"product-selector\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"product-select\",value:selectedProductId,onChange:handleProductSelect,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Product for Detailed Analysis --\"}),products.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.id,children:product.name},product.id))]})})]}),selectedProductId&&sentimentDetailData&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Product: \",sentimentDetailData.product_name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Product ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.product_id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Final Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${sentimentDetailData.final_calculation.final_score>0.1?\"success\":sentimentDetailData.final_calculation.final_score<-0.1?\"error\":\"\"}`,children:sentimentDetailData.final_calculation.final_score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Final Category:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${sentimentDetailData.final_calculation.final_category===\"Positive\"?\"success\":sentimentDetailData.final_calculation.final_category===\"Negative\"?\"error\":\"\"}`,children:sentimentDetailData.final_calculation.final_category})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Multi-Source Analysis Breakdown\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sources-breakdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"source-item\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Opinions (\",sentimentDetailData.multi_source_analysis.opinions.weight,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Count:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.opinions.count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Average Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.opinions.average_score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Contribution:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:sentimentDetailData.multi_source_analysis.opinions.contribution_to_final})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:sentimentDetailData.multi_source_analysis.opinions.formula})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-item\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Description (\",sentimentDetailData.multi_source_analysis.description.weight,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.description.score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Category:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.description.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Contribution:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:sentimentDetailData.multi_source_analysis.description.contribution_to_final})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Positive Words:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.description.positive_words})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Negative Words:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.description.negative_words})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:sentimentDetailData.multi_source_analysis.description.formula})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-item\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Product Name (\",sentimentDetailData.multi_source_analysis.name.weight,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Text:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.name.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.name.score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Contribution:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:sentimentDetailData.multi_source_analysis.name.contribution_to_final})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:sentimentDetailData.multi_source_analysis.name.formula})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-item\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Specifications (\",sentimentDetailData.multi_source_analysis.specifications.weight,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Count:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.specifications.count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Combined Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.specifications.combined_score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Contribution:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:sentimentDetailData.multi_source_analysis.specifications.contribution_to_final})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-item\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Categories (\",sentimentDetailData.multi_source_analysis.categories.weight,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Text:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.categories.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.multi_source_analysis.categories.score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Contribution:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:sentimentDetailData.multi_source_analysis.categories.contribution_to_final})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Final Calculation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:sentimentDetailData.final_calculation.formula})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Calculation:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:sentimentDetailData.final_calculation.calculation})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Final Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:sentimentDetailData.final_calculation.final_score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Final Category:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.final_calculation.final_category})]})]})]}),sentimentDetailData.multi_source_analysis.opinions.sample_details&&sentimentDetailData.multi_source_analysis.opinions.sample_details.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sample Opinion Analysis\"}),sentimentDetailData.multi_source_analysis.opinions.sample_details.map((opinion,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"opinion-detail\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Opinion #\",opinion.opinion_id]}),/*#__PURE__*/_jsx(\"p\",{className:\"opinion-text\",children:opinion.opinion_excerpt}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Positive Words:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:opinion.calculation.positive_words_found})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Negative Words:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value error\",children:opinion.calculation.negative_words_found})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Words:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:opinion.calculation.total_words})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:opinion.calculation.formula})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:opinion.calculation.sentiment_score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Category:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:opinion.calculation.category})]})]})]},index))]}),sentimentDetailData.lexicon_info&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sentiment Lexicon Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Positive Words Count:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:sentimentDetailData.lexicon_info.positive_words_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Negative Words Count:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value error\",children:sentimentDetailData.lexicon_info.negative_words_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Examples (Positive):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.lexicon_info.examples_positive.join(\", \")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Examples (Negative):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sentimentDetailData.lexicon_info.examples_negative.join(\", \")})]})]})]}),sentimentDetailData.source&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Scientific Reference\"}),/*#__PURE__*/_jsx(\"p\",{className:\"reference-text\",children:sentimentDetailData.source})]})]}),sentimentDebugData.total_sentiments===0&&(!sentimentDebugData.top_positive||sentimentDebugData.top_positive.length===0)&&(!sentimentDebugData.top_negative||sentimentDebugData.top_negative.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No sentiment analysis data available.\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"Loading...\"})})]}),activeMethod===\"association\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-section association-debug\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Association Rules Debug Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select Product to Inspect\"}),/*#__PURE__*/_jsx(\"div\",{className:\"product-selector\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"product-select\",value:selectedProductId,onChange:handleProductSelect,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Product --\"}),products.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.id,children:product.name},product.id))]})})]}),associationDebugData&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Product: \",associationDebugData.product.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Product ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.product.id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Product Support:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value success\",children:[(associationDebugData.statistics.product_support*100).toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Transactions with This Product:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.statistics.transactions_with_product})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Rules for This Product:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.statistics.rules_for_this_product})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Database Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"All Orders in Database:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.statistics.all_orders_in_db})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Single Product Orders:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.statistics.single_product_orders})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Multi-Product Orders:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:associationDebugData.statistics.multi_product_orders})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Rules in System:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.statistics.total_rules_in_system})]})]}),associationDebugData.statistics.note&&/*#__PURE__*/_jsx(\"p\",{className:\"info-note\",children:associationDebugData.statistics.note})]}),associationDebugData.algorithm_behavior&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Algorithm Behavior\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Filtering:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.algorithm_behavior.filtering})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Reason:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.algorithm_behavior.reason})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Impact:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:associationDebugData.algorithm_behavior.impact})]})]})]}),associationDebugData.top_associations&&associationDebugData.top_associations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top 10 Association Rules for This Product\"}),/*#__PURE__*/_jsx(\"div\",{className:\"associations-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Support\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Confidence\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lift\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:associationDebugData.top_associations.map((assoc,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:assoc.product_2.name}),/*#__PURE__*/_jsxs(\"td\",{className:\"metric-value\",children:[(assoc.metrics.support*100).toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"metric-value\",children:[(assoc.metrics.confidence*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"metric-value success\",children:[assoc.metrics.lift.toFixed(2),\"x\"]})]},index))})]})})]}),associationDebugData.top_associations&&associationDebugData.top_associations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Detailed Rule Analysis\"}),associationDebugData.top_associations.slice(0,3).map((assoc,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"rule-detail\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Rule #\",index+1,\":\",\" \",associationDebugData.product.name,\" \\u2192\",\" \",assoc.product_2.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Support Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:assoc.formula_verification.support_formula})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Confidence Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:assoc.formula_verification.confidence_formula})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Lift Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value formula-text\",children:assoc.formula_verification.lift_formula})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row interpretation\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Support:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:assoc.interpretation.support})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row interpretation\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Confidence:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:assoc.interpretation.confidence})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row interpretation\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Lift:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:assoc.interpretation.lift})]})]})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Association Rules (Formulas)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formulas\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formula-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Support\"}),/*#__PURE__*/_jsx(\"p\",{className:\"formula-text\",children:\"Support(A, B) = P(A \\u2229 B) = Transactions with both / Total transactions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"formula-explanation\",children:\"Measures how frequently both products appear together in transactions.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formula-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Confidence\"}),/*#__PURE__*/_jsx(\"p\",{className:\"formula-text\",children:\"Confidence(A \\u2192 B) = P(B|A) = Support(A, B) / Support(A)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"formula-explanation\",children:\"Probability of buying B when A is purchased.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formula-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Lift\"}),/*#__PURE__*/_jsx(\"p\",{className:\"formula-text\",children:\"Lift(A \\u2192 B) = Confidence(A \\u2192 B) / Support(B)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"formula-explanation\",children:\"How many times more likely B is purchased with A compared to random chance.\"})]})]})]}),associationDebugData.references&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Scientific References\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"references-list\",children:associationDebugData.references.map((ref,index)=>/*#__PURE__*/_jsx(\"li\",{children:ref},index))})]})]}),!associationDebugData&&selectedProductId&&/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"Loading association rules for selected product...\"})}),!selectedProductId&&/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"Please select a product to view its association rules.\"})})]}),activeMethod===\"content\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-section cb-debug\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Content-Based Filtering Debug Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-selector-card\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product-select\",children:\"Select Product to Analyze:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"product-select\",value:selectedProductId,onChange:handleProductSelect,className:\"product-dropdown\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Product --\"}),products.map(product=>/*#__PURE__*/_jsxs(\"option\",{value:product.id,children:[product.name,\" (ID: \",product.id,\")\"]},product.id))]})]}),contentBasedDebugData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Algorithm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.algorithm})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.formula})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Database Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Products:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.database_stats.total_products})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Saved Similarities:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.database_stats.saved_similarities})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Percentage Saved:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[contentBasedDebugData.database_stats.percentage_saved,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Threshold:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[contentBasedDebugData.database_stats.threshold*100,\"%\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:contentBasedDebugData.database_stats.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Feature Weights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Category:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[contentBasedDebugData.feature_weights.category*100,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Tag:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[contentBasedDebugData.feature_weights.tag*100,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Price:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[contentBasedDebugData.feature_weights.price*100,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Keywords:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[contentBasedDebugData.feature_weights.keywords*100,\"%\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:contentBasedDebugData.feature_weights.description})]}),contentBasedDebugData.selected_product&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Selected Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.selected_product.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.selected_product.id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Price:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[contentBasedDebugData.selected_product.price,\" \",\"PLN\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Price Category:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.selected_product.price_category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Categories:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.selected_product.categories.join(\", \")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Tags:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.selected_product.tags.join(\", \")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Keywords:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:contentBasedDebugData.selected_product.keywords.join(\", \")})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Feature Vector (\",contentBasedDebugData.feature_vector.vector_length,\" \",\"features)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(contentBasedDebugData.feature_vector.features).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[key,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:value.toFixed(3)})]},key);})})]}),contentBasedDebugData.similar_products&&contentBasedDebugData.similar_products.count>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Top\",\" \",contentBasedDebugData.similar_products.count,\" \",\"Similar Products\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"debug-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Similarity Score\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Categories\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contentBasedDebugData.similar_products.top_10.map((sim,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:sim.product_2.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[(sim.similarity_score*100).toFixed(2),\"%\"]})}),/*#__PURE__*/_jsxs(\"td\",{children:[sim.product_2.price,\" PLN\"]}),/*#__PURE__*/_jsx(\"td\",{children:sim.product_2.categories.join(\", \")})]},idx))})]})}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"2rem\",marginBottom:\"1rem\"},children:\"Detailed Calculations (Top 3)\"}),contentBasedDebugData.similar_products.top_10.slice(0,3).map((sim,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",style:{marginBottom:\"1rem\"},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"#\",idx+1,\" \",sim.product_2.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Formula:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sim.calculation.formula})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Dot Product:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sim.calculation.dot_product})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Norm Product 1:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sim.calculation.norm_product1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Norm Product 2:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:sim.calculation.norm_product2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Verification:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`value ${sim.calculation.stored_vs_calculated.match?\"success\":\"error\"}`,children:[\"Stored:\",\" \",sim.calculation.stored_vs_calculated.stored,\" \",\"| Calculated:\",\" \",sim.calculation.stored_vs_calculated.calculated,sim.calculation.stored_vs_calculated.match?\" ✓\":\" ✗\"]})]})]}),Object.keys(sim.common_features).length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{marginTop:\"1rem\",marginBottom:\"0.5rem\"},children:[\"Common Features (\",sim.common_features_count,\" total)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"debug-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Feature\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 1 Value\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 2 Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.entries(sim.common_features).map(_ref2=>{let[feat,vals]=_ref2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:feat})}),/*#__PURE__*/_jsx(\"td\",{children:vals.product1_value}),/*#__PURE__*/_jsx(\"td\",{children:vals.product2_value})]},feat);})})]})})]})]},idx))]})]}),!selectedProductId&&contentBasedDebugData.top_10_global_similarities&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top 10 Global Similarities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"debug-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 2\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Similarity Score\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contentBasedDebugData.top_10_global_similarities.map((sim,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsxs(\"td\",{children:[sim.product1_name,/*#__PURE__*/_jsxs(\"span\",{className:\"id-badge\",children:[\"ID: \",sim.product1_id]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[sim.product2_name,/*#__PURE__*/_jsxs(\"span\",{className:\"id-badge\",children:[\"ID: \",sim.product2_id]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[(sim.score*100).toFixed(2),\"%\"]})})]},idx))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Computation Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Can Compute:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${contentBasedDebugData.computation_status.can_compute?\"success\":\"error\"}`,children:contentBasedDebugData.computation_status.can_compute?\"✅ Yes\":\"❌ No\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"issues-list\",children:contentBasedDebugData.computation_status.issues.map((issue,idx)=>/*#__PURE__*/_jsx(\"p\",{className:issue.includes(\"✅\")?\"success\":\"warning\",children:issue},idx))})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:loading?\"Loading content-based debug data...\":\"No content-based debug data available.\"})})]})]}),activeMethod===\"fuzzy\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-section fuzzy-debug\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Fuzzy Logic Inference System Debug\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-selector-card\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select User Profile:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedUserId,onChange:handleUserSelect,className:\"product-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Default Profile (Guest)\"}),users.map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id,children:[user.username,\" (ID: \",user.id,\")\"]},user.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-selector-card\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Product to Analyze (Optional):\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedProductId,onChange:handleProductSelect,className:\"product-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"None (Show Top 10 Products)\"}),products.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.id,children:product.name},product.id))]})]}),fuzzyLogicDebugData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Algorithm Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.algorithm})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.description})]})]})]}),fuzzyLogicDebugData.user_profile&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"User:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[fuzzyLogicDebugData.user_profile.username,fuzzyLogicDebugData.user_profile.user_id&&/*#__PURE__*/_jsxs(\"span\",{className:\"id-badge\",children:[\"ID: \",fuzzyLogicDebugData.user_profile.user_id]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Profile Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.user_profile.profile_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Price Sensitivity:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[fuzzyLogicDebugData.user_profile.price_sensitivity,\" -\",\" \",fuzzyLogicDebugData.user_profile.price_sensitivity_label]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Tracked Categories:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.user_profile.total_categories_tracked})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1rem\"},children:\"Category Interests\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(fuzzyLogicDebugData.user_profile.category_interests||{}).map(_ref3=>{let[cat,interest]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[cat,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:interest})]},cat);})})]}),fuzzyLogicDebugData.membership_functions&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Membership Functions\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Price Functions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(fuzzyLogicDebugData.membership_functions.price).map(_ref4=>{let[key,func]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"0.8rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[key.toUpperCase(),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:func.range})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:func.description})]},key);})}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1rem\"},children:\"Quality Functions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(fuzzyLogicDebugData.membership_functions.quality).map(_ref5=>{let[key,func]=_ref5;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"0.8rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[key.toUpperCase(),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:func.range})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:func.description})]},key);})}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1rem\"},children:\"Popularity Functions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(fuzzyLogicDebugData.membership_functions.popularity).map(_ref6=>{let[key,func]=_ref6;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"0.8rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[key.toUpperCase(),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:func.range})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:func.description})]},key);})})]}),fuzzyLogicDebugData.fuzzy_rules&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Fuzzy Rule Base (\",fuzzyLogicDebugData.fuzzy_rules.length,\" \",\"rules)\"]}),fuzzyLogicDebugData.fuzzy_rules.map((rule,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"calculation-card\",style:{marginBottom:\"1rem\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:rule.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Condition:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:rule.condition})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Consequence:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:rule.consequence})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:rule.interpretation})]})]},idx))]}),fuzzyLogicDebugData.selected_product&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Selected Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.selected_product.id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.selected_product.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Price:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[fuzzyLogicDebugData.selected_product.price,\" PLN\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Rating:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.selected_product.rating})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"View Count:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.selected_product.view_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Categories:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.selected_product.categories.join(\", \")})]})]})]}),fuzzyLogicDebugData.fuzzification&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Fuzzification - Membership Degrees\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Price: \",fuzzyLogicDebugData.fuzzification.price.value,\" \",\"PLN\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Cheap:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.price.cheap]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Medium:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.price.medium]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Expensive:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.price.expensive]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Dominant:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:/*#__PURE__*/_jsx(\"strong\",{children:fuzzyLogicDebugData.fuzzification.price.dominant.toUpperCase()})})]})]}),/*#__PURE__*/_jsxs(\"h4\",{style:{marginTop:\"1rem\"},children:[\"Quality:\",\" \",fuzzyLogicDebugData.fuzzification.quality.value]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Low:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.quality.low]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Medium:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.quality.medium]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"High:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.quality.high]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Dominant:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:/*#__PURE__*/_jsx(\"strong\",{children:fuzzyLogicDebugData.fuzzification.quality.dominant.toUpperCase()})})]})]}),/*#__PURE__*/_jsxs(\"h4\",{style:{marginTop:\"1rem\"},children:[\"Popularity:\",\" \",fuzzyLogicDebugData.fuzzification.popularity.value,\" \",\"views\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Low:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.popularity.low]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Medium:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.popularity.medium]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"High:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u03BC =\",\" \",fuzzyLogicDebugData.fuzzification.popularity.high]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Dominant:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:/*#__PURE__*/_jsx(\"strong\",{children:fuzzyLogicDebugData.fuzzification.popularity.dominant.toUpperCase()})})]})]})]}),fuzzyLogicDebugData.category_matching&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Category Matching\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Max Match:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:/*#__PURE__*/_jsx(\"strong\",{children:fuzzyLogicDebugData.category_matching.max_match})})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:fuzzyLogicDebugData.category_matching.explanation}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1rem\"},children:\"Category Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(fuzzyLogicDebugData.category_matching.category_details||{}).map(_ref7=>{let[cat,match]=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[cat,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:match})]},cat);})})]}),fuzzyLogicDebugData.inference&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Fuzzy Inference - Rule Activations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(fuzzyLogicDebugData.inference.rule_activations||{}).map(_ref8=>{let[rule,activation]=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[rule,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:/*#__PURE__*/_jsx(\"strong\",{children:activation})})]},rule);})}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1.5rem\"},children:\"Defuzzification\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Method:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.inference.defuzzification_method})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Final Fuzzy Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:/*#__PURE__*/_jsx(\"strong\",{children:fuzzyLogicDebugData.inference.final_fuzzy_score})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Percentage:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[fuzzyLogicDebugData.inference.final_percentage,\"%\"]})})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",style:{marginTop:\"1rem\"},children:fuzzyLogicDebugData.inference.calculation.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Weighted Sum:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.inference.calculation.weighted_sum})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Weight Sum:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.inference.calculation.weight_sum})]})]})]})]}),fuzzyLogicDebugData.top_products&&!selectedProductId&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Top \",fuzzyLogicDebugData.top_products.count,\" Products by Fuzzy Score\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:fuzzyLogicDebugData.top_products.description}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"debug-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fuzzy Score\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Percentage\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category Match\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Categories\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:fuzzyLogicDebugData.top_products.products.map((prod,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:prod.name}),/*#__PURE__*/_jsxs(\"td\",{children:[prod.price,\" PLN\"]}),/*#__PURE__*/_jsx(\"td\",{children:prod.rating}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:prod.fuzzy_score})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[prod.fuzzy_percentage,\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{children:prod.category_match}),/*#__PURE__*/_jsx(\"td\",{children:prod.categories.join(\", \")})]},prod.id))})]})})]}),fuzzyLogicDebugData.system_stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"System Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Products:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.system_stats.total_products})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Rules:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.system_stats.total_rules})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Membership Function Types:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.system_stats.membership_function_types})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Defuzzification Method:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:fuzzyLogicDebugData.system_stats.defuzzification_method})]})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:loading?\"Loading fuzzy logic debug data...\":\"No fuzzy logic debug data available.\"})})]}),activeMethod===\"probabilistic\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-section probabilistic-debug\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Probabilistic Models Debug Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-selector-card\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select User to Analyze:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedUserId,onChange:handleUserSelect,className:\"product-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select User...\"}),users.map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id,children:[user.username,\" (ID: \",user.id,\")\"]},user.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-selector-card\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Product to Analyze (Optional):\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedProductId,onChange:handleProductSelect,className:\"product-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"None\"}),products.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.id,children:product.name},product.id))]})]}),probabilisticDebugData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Algorithm Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.algorithm})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.description})]})]})]}),probabilisticDebugData.markov_chain&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Markov Chain Model\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Order:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.markov_chain.order})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total States (Categories):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.markov_chain.total_states})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Transitions:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.markov_chain.total_transitions})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1.5rem\"},children:\"Top 10 Transitions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"similarities-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"From Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"To Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Probability\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Count\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:probabilisticDebugData.markov_chain.top_transitions.map((trans,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:trans.from}),/*#__PURE__*/_jsx(\"td\",{children:trans.to}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[(trans.probability*100).toFixed(2),\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{children:trans.count})]},idx))})]})})]}),probabilisticDebugData.naive_bayes_purchase&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Naive Bayes - Purchase Prediction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Trained:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${probabilisticDebugData.naive_bayes_purchase.trained?\"success\":\"error\"}`,children:probabilisticDebugData.naive_bayes_purchase.trained?\"✅ Yes\":\"❌ No\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Number of Features:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.naive_bayes_purchase.num_features})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Classes:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.naive_bayes_purchase.classes.join(\", \")})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1rem\"},children:\"Class Priors\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(probabilisticDebugData.naive_bayes_purchase.class_priors).map(_ref9=>{let[cls,prob]=_ref9;return/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[\"Class \",cls,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:prob})]},cls);})})]}),probabilisticDebugData.naive_bayes_churn&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Naive Bayes - Churn Prediction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Trained:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${probabilisticDebugData.naive_bayes_churn.trained?\"success\":\"error\"}`,children:probabilisticDebugData.naive_bayes_churn.trained?\"✅ Yes\":\"❌ No\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Number of Features:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.naive_bayes_churn.num_features})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Classes:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.naive_bayes_churn.classes.join(\", \")})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1rem\"},children:\"Class Priors\"}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:Object.entries(probabilisticDebugData.naive_bayes_churn.class_priors).map(_ref10=>{let[cls,prob]=_ref10;return/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label\",children:[\"Class \",cls,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:prob})]},cls);})})]}),probabilisticDebugData.user_analysis&&!probabilisticDebugData.user_analysis.error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"User:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[probabilisticDebugData.user_analysis.username,/*#__PURE__*/_jsxs(\"span\",{className:\"id-badge\",children:[\"ID:\",\" \",probabilisticDebugData.user_analysis.user_id]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Orders:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.user_analysis.total_orders})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Spent:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[probabilisticDebugData.user_analysis.total_spent,\" \",\"PLN\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Avg Order Value:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[probabilisticDebugData.user_analysis.avg_order_value,\" \",\"PLN\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Days Since Last Order:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.user_analysis.days_since_last_order})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Last Category Purchased:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.user_analysis.last_category})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1rem\"},children:\"Purchase Sequence (Last 10)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:probabilisticDebugData.user_analysis.purchase_sequence.join(\" → \")})]}),probabilisticDebugData.user_analysis.markov_predictions&&probabilisticDebugData.user_analysis.markov_predictions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Next Purchase Predictions (Markov Chain)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"similarities-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Predicted Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Probability\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:probabilisticDebugData.user_analysis.markov_predictions.map((pred,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:pred.category}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[(pred.probability*100).toFixed(2),\"%\"]})})]},idx))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Behavior Predictions (Naive Bayes)\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Purchase Probability\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Active Buyer:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value success\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[(probabilisticDebugData.user_analysis.purchase_probability.active_buyer*100).toFixed(2),\"%\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Inactive:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[(probabilisticDebugData.user_analysis.purchase_probability.inactive*100).toFixed(2),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1.5rem\"},children:\"Churn Probability\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Will Churn:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${probabilisticDebugData.user_analysis.churn_probability.will_churn>0.5?\"error\":\"\"}`,children:/*#__PURE__*/_jsxs(\"strong\",{children:[(probabilisticDebugData.user_analysis.churn_probability.will_churn*100).toFixed(2),\"%\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Will Stay:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`value ${probabilisticDebugData.user_analysis.churn_probability.will_stay>0.5?\"success\":\"\"}`,children:[(probabilisticDebugData.user_analysis.churn_probability.will_stay*100).toFixed(2),\"%\"]})]})]})]})]}),probabilisticDebugData.product_analysis&&!probabilisticDebugData.product_analysis.error&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Product:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[probabilisticDebugData.product_analysis.product_name,/*#__PURE__*/_jsxs(\"span\",{className:\"id-badge\",children:[\"ID:\",\" \",probabilisticDebugData.product_analysis.product_id]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Category:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.product_analysis.category})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1.5rem\"},children:\"Next Likely Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"similarities-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Probability\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Count\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:probabilisticDebugData.product_analysis.next_likely_categories.map((cat,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:cat.category}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[(cat.probability*100).toFixed(2),\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{children:cat.count})]},idx))})]})}),probabilisticDebugData.product_analysis.predicted_next_products&&probabilisticDebugData.product_analysis.predicted_next_products.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"1.5rem\"},children:\"Predicted Next Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"similarities-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Transition Probability\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:probabilisticDebugData.product_analysis.predicted_next_products.map((prod,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:prod.name}),/*#__PURE__*/_jsx(\"td\",{children:prod.category}),/*#__PURE__*/_jsxs(\"td\",{children:[prod.price,\" PLN\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[(prod.transition_probability*100).toFixed(2),\"%\"]})})]},idx))})]})})]})]}),probabilisticDebugData.system_stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"System Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"debug-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Users Analyzed:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.system_stats.total_users_analyzed})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total Categories:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:probabilisticDebugData.system_stats.total_categories})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Markov Chain Trained:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${probabilisticDebugData.system_stats.markov_trained?\"success\":\"error\"}`,children:probabilisticDebugData.system_stats.markov_trained?\"✅ Yes\":\"❌ No\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Naive Bayes Purchase Trained:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${probabilisticDebugData.system_stats.naive_bayes_purchase_trained?\"success\":\"error\"}`,children:probabilisticDebugData.system_stats.naive_bayes_purchase_trained?\"✅ Yes\":\"❌ No\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Naive Bayes Churn Trained:\"}),/*#__PURE__*/_jsx(\"span\",{className:`value ${probabilisticDebugData.system_stats.naive_bayes_churn_trained?\"success\":\"error\"}`,children:probabilisticDebugData.system_stats.naive_bayes_churn_trained?\"✅ Yes\":\"❌ No\"})]})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"debug-card\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:loading?\"Loading probabilistic debug data...\":\"No probabilistic debug data available.\"})})]})]},activeMethod),showAllSimilaritiesModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeAllSimilaritiesModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-large\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"All Product Similarities (\",allSimilarities.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"common-modal-close modal-close\",onClick:closeAllSimilaritiesModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body-rules\",children:allSimilaritiesLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rules-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"rules-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 2\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Similarity Score\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allSimilarities.slice((similaritiesPage-1)*similaritiesPerPage,similaritiesPage*similaritiesPerPage).map((sim,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(similaritiesPage-1)*similaritiesPerPage+index+1}),/*#__PURE__*/_jsx(\"td\",{children:sim.product1_name}),/*#__PURE__*/_jsx(\"td\",{children:sim.product2_name}),/*#__PURE__*/_jsx(\"td\",{children:sim.score.toFixed(4)})]},`sim-${index}-${sim.product1_name}-${sim.product2_name}`))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSimilaritiesPage(p=>Math.max(1,p-1)),disabled:similaritiesPage===1,children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",similaritiesPage,\" of\",\" \",Math.ceil(allSimilarities.length/similaritiesPerPage)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSimilaritiesPage(p=>Math.min(Math.ceil(allSimilarities.length/similaritiesPerPage),p+1)),disabled:similaritiesPage>=Math.ceil(allSimilarities.length/similaritiesPerPage),children:\"Next\"})]})]})})]})})]});};export default AdminDebug;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}