{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{motion}from\"framer-motion\";import{Link}from\"react-router-dom\";import{BarChart2,ShoppingBag,DollarSign,Users,Star,ShoppingCart,TrendingUp,List,Link2,RefreshCw,Code}from\"lucide-react\";import StatCard from\"./StatCard\";import config from\"../../config/config\";import{toast}from\"react-toastify\";import\"./AdminPanel.scss\";/**\n * AdminStatistics Component\n *\n * Main statistics and algorithm management dashboard for SmartRecommender admin panel.\n *\n * Features:\n *   - Overview statistics (products, sales, users, ratings)\n *   - Recommendation algorithm selection and testing\n *   - Association rules management (Apriori algorithm)\n *   - Real-time algorithm status monitoring\n *   - Algorithm performance preview\n *\n * Algorithms Supported:\n *   1. Collaborative Filtering - Item-based recommendations\n *   2. Content-Based Filtering - TF-IDF similarity\n *   3. Fuzzy Logic - Membership functions\n *\n * Association Rules (Apriori Algorithm):\n *   - Computes \"Frequently Bought Together\" patterns\n *   - Metrics: Support, Confidence, Lift\n *   - Configurable thresholds (min_support, min_confidence, min_lift)\n *\n * @component\n * @returns {React.ReactElement} Statistics dashboard with algorithm controls\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminStatistics=()=>{const[stats,setStats]=useState({totalProducts:0,totalSales:0,topSelling:0,totalUsers:0,totalOpinions:0,averageRating:0,topCategoryName:\"\",topTagName:\"\",churnRate:\"0%\",conversionRate:\"0%\"});const[loading,setLoading]=useState(false);const[currentAlgorithm,setCurrentAlgorithm]=useState(null);const[selectedAlgorithm,setSelectedAlgorithm]=useState(null);const[recommendationPreview,setRecommendationPreview]=useState([]);const[isProcessing,setIsProcessing]=useState(false);const[associationRules,setAssociationRules]=useState([]);const[associationLoading,setAssociationLoading]=useState(false);const[isUpdatingRules,setIsUpdatingRules]=useState(false);const[algorithmStatus,setAlgorithmStatus]=useState(null);const[showAllRulesModal,setShowAllRulesModal]=useState(false);const[allRules,setAllRules]=useState([]);const[allRulesLoading,setAllRulesLoading]=useState(false);const[currentPage,setCurrentPage]=useState(1);const rulesPerPage=50;useEffect(()=>{fetchStats();fetchRecommendationSettings();fetchAssociationRules();fetchAlgorithmStatus();const checkAndGenerateRules=async()=>{const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/association-rules/`,{headers:{Authorization:`Bearer ${token}`}});if(!res.data.rules||res.data.rules.length===0){axios.post(`${config.apiUrl}/api/update-association-rules/`,{min_support:0.005,min_confidence:0.05,min_lift:1.0},{headers:{Authorization:`Bearer ${token}`}}).then(()=>{fetchAssociationRules();}).catch(err=>{console.error(\"❌ Failed to auto-generate rules:\",err);});}}catch(err){console.error(\"Error checking association rules:\",err);}};setTimeout(checkAndGenerateRules,1000);},[]);useEffect(()=>{if(currentAlgorithm){fetchRecommendationPreview(currentAlgorithm);}},[currentAlgorithm]);const fetchStats=async()=>{setLoading(true);const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/admin-dashboard-stats/`,{headers:{Authorization:`Bearer ${token}`}});setStats({totalProducts:res.data.totalProducts||0,totalSales:res.data.totalSales||0,topSelling:res.data.topSelling||0,totalUsers:res.data.clients||0,totalOpinions:res.data.totalOpinions||0,averageRating:res.data.averageRating||0,topCategoryName:res.data.topCategoryName||\"\",topTagName:res.data.topTagName||\"\",churnRate:res.data.churnRate||\"0%\",conversionRate:res.data.conversionRate||\"0%\"});setLoading(false);}catch(err){console.error(\"Error fetching statistics:\",err);toast.error(\"Failed to fetch statistics. Please try again.\");setLoading(false);}};const fetchAlgorithmStatus=async()=>{const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/recommendation-algorithm-status/`,{headers:{Authorization:`Bearer ${token}`}});setAlgorithmStatus(res.data);}catch(err){console.error(\"Error fetching algorithm status:\",err);}};const fetchRecommendationSettings=async()=>{const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/recommendation-settings/`,{headers:{Authorization:`Bearer ${token}`}});const algorithm=res.data.active_algorithm||null;setCurrentAlgorithm(algorithm);setSelectedAlgorithm(algorithm);}catch(err){console.error(\"Error fetching recommendation settings:\",err);setCurrentAlgorithm(\"collaborative\");setSelectedAlgorithm(\"collaborative\");}};const fetchRecommendationPreview=async algorithm=>{const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/recommendation-preview/?algorithm=${algorithm}`,{headers:{Authorization:`Bearer ${token}`}});setRecommendationPreview(res.data);}catch(err){console.error(\"Error fetching recommendation preview:\",err);}};const fetchAssociationRules=async function(){let bypassCache=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;setAssociationLoading(true);const token=localStorage.getItem(\"access\");try{const cacheBuster=bypassCache?`?t=${Date.now()}`:\"\";const res=await axios.get(`${config.apiUrl}/api/association-rules/${cacheBuster}`,{headers:{Authorization:`Bearer ${token}`}});setAssociationRules(res.data.rules?res.data.rules.slice(0,10):[]);if(res.data.total_rules!==undefined){}if(!res.data.rules||res.data.rules.length===0){console.warn(\"⚠️ No association rules found. Click 'Update Rules' to generate them.\");}}catch(err){console.error(\"Error fetching association rules:\",err);toast.error(\"Failed to fetch association rules.\");}finally{setAssociationLoading(false);}};const updateAssociationRules=async()=>{setIsUpdatingRules(true);const token=localStorage.getItem(\"access\");try{const res=await axios.post(`${config.apiUrl}/api/update-association-rules/`,{},{headers:{Authorization:`Bearer ${token}`}});if(res.data.rules_created===0){toast.warning(`⚠️ No association rules created! Current transactions: ${res.data.total_transactions}`,{autoClose:8000});}else{toast.success(`✅ Successfully created ${res.data.rules_created} association rules from ${res.data.total_transactions} transactions!`,{autoClose:5000});}fetchAssociationRules(true);}catch(err){var _err$response,_err$response$data;console.error(\"Error updating association rules:\",err);const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Failed to update association rules.\";toast.error(errorMsg);}finally{setIsUpdatingRules(false);}};const fetchAllRules=async()=>{setAllRulesLoading(true);const token=localStorage.getItem(\"access\");try{const res=await axios.get(`${config.apiUrl}/api/association-rules/?all=true`,{headers:{Authorization:`Bearer ${token}`}});setAllRules(res.data.rules||[]);setShowAllRulesModal(true);}catch(err){console.error(\"Error fetching all rules:\",err);toast.error(\"Failed to fetch all rules.\");}finally{setAllRulesLoading(false);}};const closeAllRulesModal=()=>{setShowAllRulesModal(false);setCurrentPage(1);};const handleAlgorithmChange=algorithm=>{setSelectedAlgorithm(algorithm);};const handleApplyAlgorithm=async()=>{if(isProcessing||!selectedAlgorithm)return;setTimeout(()=>{window.location.reload();},1000);const token=localStorage.getItem(\"access\");setIsProcessing(true);try{const res=await axios.post(`${config.apiUrl}/api/recommendation-settings/`,{algorithm:selectedAlgorithm},{headers:{Authorization:`Bearer ${token}`}});if(res.data.success){toast.success(`${selectedAlgorithm} algorithm applied successfully! This will be used across the website.`);setCurrentAlgorithm(selectedAlgorithm);const processRes=await axios.post(`${config.apiUrl}/api/process-recommendations/`,{algorithm:selectedAlgorithm},{headers:{Authorization:`Bearer ${token}`}});if(processRes.data.success){toast.success(\"Recommendations processed successfully!\");}}}catch(err){console.error(\"Error updating recommendation settings:\",err);toast.error(\"Failed to update recommendation settings.\");setIsProcessing(false);}};const hasChanges=selectedAlgorithm!==null&&currentAlgorithm!==selectedAlgorithm;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat_Cards\",children:[/*#__PURE__*/_jsx(StatCard,{name:\"All Products\",icon:ShoppingBag,value:stats.totalProducts,color:\"#8B5CF6\",variant:\"first\"}),/*#__PURE__*/_jsx(StatCard,{name:\"Best Selling\",icon:TrendingUp,value:stats.topSelling,color:\"#10B981\",variant:\"third\"}),/*#__PURE__*/_jsx(StatCard,{name:\"Total Sales\",icon:DollarSign,value:`$${stats.totalSales.toLocaleString(\"en-US\",{minimumFractionDigits:2,maximumFractionDigits:2})}`,color:\"#EF4444\",variant:\"second\"}),/*#__PURE__*/_jsx(StatCard,{name:\"All Users\",icon:Users,value:stats.totalUsers,color:\"#F59E0B\",variant:\"fourth\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat_Cards\",children:[/*#__PURE__*/_jsx(StatCard,{name:\"All Opinions\",icon:Star,value:stats.totalOpinions,color:\"#6366F1\",variant:\"fifth\"}),/*#__PURE__*/_jsx(StatCard,{name:\"Average Rating\",icon:BarChart2,value:stats.averageRating.toFixed(1),color:\"#10B981\",variant:\"sixth\"}),/*#__PURE__*/_jsx(StatCard,{name:\"Top Category\",icon:ShoppingCart,value:stats.topCategoryName||\"—\",color:\"#F59E0B\",variant:\"seventh\"}),/*#__PURE__*/_jsx(StatCard,{name:\"Top Tag\",icon:List,value:stats.topTagName||\"—\",color:\"#EF4444\",variant:\"eighth\"})]}),/*#__PURE__*/_jsx(motion.div,{className:\"admin-statistics-container\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.2},children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-statistics-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"admin-statistics-title\",children:\"Statistics Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-statistics-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"This page provides a summary of key performance indicators for your store.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Monitor sales trends, customer engagement, and product performance all in one place.\"})]})]})}),algorithmStatus&&/*#__PURE__*/_jsx(motion.div,{className:\"algorithm-status-section\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},children:/*#__PURE__*/_jsxs(\"div\",{className:\"algorithm-status-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"algorithm-status-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"algorithm-status-title\",children:[/*#__PURE__*/_jsx(Code,{className:\"algorithm-status-icon\"}),\"Implementation Status\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"algorithm-status-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"algorithm-status-description\",children:\"Overview of recommendation algorithm implementations:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"algorithms-grid\",children:Object.entries(algorithmStatus.algorithms).map(_ref=>{let[key,algo]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"algorithm-item\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"algorithm-name\",children:key===\"content_based\"?\"Content-Based Filtering\":\"Collaborative Filtering\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"algorithm-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Implementation:\"}),\" \",algo.implementation]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Similarities:\"}),\" \",algo.similarity_count]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",algo.description]})]}),/*#__PURE__*/_jsx(\"div\",{className:`implementation-badge ${algo.implementation.includes(\"Custom\")?\"custom\":\"library\"}`,children:algo.implementation.includes(\"Custom\")?\"Manual Implementation\":\"Library Implementation\"})]},key);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-implementations\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Custom Manual Implementations:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"custom-methods\",children:algorithmStatus.custom_implementations.map((method,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"custom-method-badge\",children:method.replace(\"_\",\" \").toUpperCase()},index))})]})]})]})}),/*#__PURE__*/_jsx(motion.div,{className:\"association-rules-section\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.4},children:/*#__PURE__*/_jsxs(\"div\",{className:\"association-rules-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"association-rules-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"association-rules-title\",children:[/*#__PURE__*/_jsx(Link2,{className:\"association-rules-icon\"}),\"Association Rules Management\",/*#__PURE__*/_jsx(\"span\",{className:\"custom-implementation-badge\",children:\"Custom Apriori\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"association-rules-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"show-all-rules-btn\",onClick:fetchAllRules,disabled:allRulesLoading||associationRules.length===0,children:[/*#__PURE__*/_jsx(List,{className:\"icon\"}),allRulesLoading?\"Loading...\":\"Show All Rules\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"update-rules-btn\",onClick:updateAssociationRules,disabled:isUpdatingRules,children:[/*#__PURE__*/_jsx(RefreshCw,{className:`icon ${isUpdatingRules?\"rotating\":\"\"}`}),isUpdatingRules?\"Updating...\":\"Update Rules\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"association-rules-content\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"association-rules-description\",children:[\"Association rules help identify products frequently bought together. These rules power the \\\"Frequently Bought Together\\\" recommendations in the shopping cart.\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Using custom manual Apriori algorithm implementation with real formulas from scientific literature (Agrawal & Srikant 1994).\"})]}),associationLoading?/*#__PURE__*/_jsx(\"div\",{className:\"association-rules-loading\",children:\"Loading association rules...\"}):associationRules.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"association-rules-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product 1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 2\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Support\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Confidence\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lift\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:associationRules.map((rule,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:rule.product_1.name}),/*#__PURE__*/_jsx(\"td\",{children:rule.product_2.name}),/*#__PURE__*/_jsxs(\"td\",{children:[(rule.support*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[(rule.confidence*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{children:rule.lift.toFixed(2)})]},rule.id||index))})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"association-rules-empty\",children:\"No association rules found. Click \\\"Update Rules\\\" to generate them using custom Apriori algorithm.\"})]})]})}),/*#__PURE__*/_jsxs(motion.div,{className:\"recommendation-control-section\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"recommendation-title\",children:\"Recommendation System\"}),currentAlgorithm===null&&/*#__PURE__*/_jsxs(\"div\",{className:\"algorithm-warning\",style:{padding:\"12px\",marginBottom:\"16px\",backgroundColor:\"#fff3cd\",border:\"1px solid #ffc107\",borderRadius:\"8px\",color:\"#856404\"},children:[\"\\u26A0\\uFE0F \",/*#__PURE__*/_jsx(\"strong\",{children:\"No algorithm selected.\"}),\" Please choose an algorithm below and click \\\"Apply Algorithm\\\" to generate recommendations.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"algorithm-selection\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"algorithm-label\",children:\"Select Algorithm:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"algorithm-options\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"collaborative\",checked:selectedAlgorithm===\"collaborative\",onChange:()=>handleAlgorithmChange(\"collaborative\"),disabled:isProcessing}),\"Collaborative Filtering (CF) - Library Implementation\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"content_based\",checked:selectedAlgorithm===\"content_based\",onChange:()=>handleAlgorithmChange(\"content_based\"),disabled:isProcessing}),\"Content-Based Filtering (CBF) -\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Custom Manual Implementation\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"fuzzy_logic\",checked:selectedAlgorithm===\"fuzzy_logic\",onChange:()=>handleAlgorithmChange(\"fuzzy_logic\"),disabled:isProcessing}),\"Fuzzy Logic (FL) -\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Custom Manual Implementation\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"algorithm-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleApplyAlgorithm,disabled:isProcessing||!selectedAlgorithm||!hasChanges&&currentAlgorithm!==null,style:{opacity:(!selectedAlgorithm||!hasChanges&&currentAlgorithm!==null)&&!isProcessing?0.5:1,cursor:(!selectedAlgorithm||!hasChanges&&currentAlgorithm!==null)&&!isProcessing?\"not-allowed\":\"pointer\"},children:isProcessing?\"Processing...\":currentAlgorithm===null?\"Generate Recommendations\":\"Apply Algorithm\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-preview\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"preview-title\",children:currentAlgorithm===\"collaborative\"?\"Collaborative Filtering Preview (Library)\":currentAlgorithm===\"content_based\"?\"Content-Based Filtering Preview (Custom Manual)\":currentAlgorithm===\"fuzzy_logic\"?\"Fuzzy Logic Preview (Custom Manual)\":\"Recommendation Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-content\",children:recommendationPreview.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"preview-products\",children:recommendationPreview.map(product=>{var _product$photos,_product$photos$;return/*#__PURE__*/_jsx(Link,{to:`/product/${product.id}`,className:\"preview-product-link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"preview-product\",children:[((_product$photos=product.photos)===null||_product$photos===void 0?void 0:(_product$photos$=_product$photos[0])===null||_product$photos$===void 0?void 0:_product$photos$.path)&&/*#__PURE__*/_jsx(\"img\",{src:`${config.apiUrl}/media/${product.photos[0].path}`,alt:product.name,className:\"preview-product-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-product-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",product.price]})]})]})},product.id);})}):/*#__PURE__*/_jsx(\"p\",{className:\"preview-empty\",children:\"No recommendations available. Click \\\"Apply Algorithm\\\" to generate.\"})})]})]}),showAllRulesModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeAllRulesModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-large\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"All Association Rules (\",allRules.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"common-modal-close modal-close\",onClick:closeAllRulesModal,\"aria-label\":\"Close modal\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body-rules\",children:allRulesLoading?/*#__PURE__*/_jsx(\"div\",{className:\"modal-loading\",children:\"Loading all rules...\"}):allRules.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rules-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"rules-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product 2\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Support\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Confidence\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lift\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allRules.slice((currentPage-1)*rulesPerPage,currentPage*rulesPerPage).map((rule,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(currentPage-1)*rulesPerPage+index+1}),/*#__PURE__*/_jsx(\"td\",{children:rule.product_1.name}),/*#__PURE__*/_jsx(\"td\",{children:rule.product_2.name}),/*#__PURE__*/_jsxs(\"td\",{children:[(rule.support*100).toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[(rule.confidence*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{children:rule.lift.toFixed(2)})]},rule.id||index))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>setCurrentPage(p=>Math.max(1,p-1)),disabled:currentPage===1,children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"pagination-info\",children:[\"Page \",currentPage,\" of\",\" \",Math.ceil(allRules.length/rulesPerPage)]}),/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>setCurrentPage(p=>Math.min(Math.ceil(allRules.length/rulesPerPage),p+1)),disabled:currentPage>=Math.ceil(allRules.length/rulesPerPage),children:\"Next\"})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"modal-empty\",children:\"No rules available.\"})})]})})]});};export default AdminStatistics;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}