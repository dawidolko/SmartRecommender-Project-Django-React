{"ast":null,"code":"/**\n * SearchResults Component\n *\n * Authors: Dawid Olko & Piotr SmoÅ‚a\n * Date: 2025-11-02\n * Version: 2.0\n *\n * Displays search results for product queries entered by users in the search bar.\n * Fetches filtered products from backend API based on search query parameter.\n *\n * Features:\n *   - Real-time product search via API\n *   - Loading state during data fetch\n *   - Empty state when no results found\n *   - Reuses ShopProduct component for consistent UI\n *   - URL-based search query (deep linking support)\n *\n * Search Algorithm (Backend):\n *   - Searches in product names and descriptions\n *   - Case-insensitive matching\n *   - Returns partial matches\n *\n * API Endpoint:\n *   - GET /api/products/search/?q={query}\n *\n * URL Format:\n *   - /search/:query (e.g., /search/laptop)\n *\n * State Management:\n *   - products: Array of matching products from API\n *   - isLoading: Loading state for async fetch\n *   - query: Search query from URL params\n *\n * @component\n * @returns {React.ReactElement} Search results page with product grid\n */import{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import\"../ShopContent/ShopContent.scss\";import ShopProduct from\"../ShopContent/ShopProduct\";import config from\"../../config/config\";import{mockAPI}from\"../../utils/mockData\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const SearchResults=()=>{const{query}=useParams();const[products,setProducts]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchProducts=async()=>{try{if(config.useMockData){const data=await mockAPI.searchProducts(query);setProducts(data);}else{const response=await fetch(`${config.apiUrl}/api/products/search/?q=${query}`);const data=await response.json();setProducts(data);}setIsLoading(false);}catch(error){console.error(\"Error fetching search results:\",error);setIsLoading(false);}};fetchProducts();},[query]);return/*#__PURE__*/_jsxs(\"div\",{className:\"shop container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"shop__title\",children:[\"Search Results for \\\"\",query,\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"shop__products\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}):products.length>0?products.map(product=>/*#__PURE__*/_jsx(ShopProduct,{id:product.id,name:product.name,price:product.price,old_price:product.old_price,imgs:product.photos.map(photo=>`${config.apiUrl}/media/${photo.path}`),category:product.categories[0]||\"N/A\"},product.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No products match your search.\"})})]});};export default SearchResults;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}