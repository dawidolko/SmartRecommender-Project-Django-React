{"ast":null,"code":"/**\n * App Component - Main Application Entry Point\n *\n * Authors: Dawid Olko & Piotr Smo≈Ça\n * Date: 2025-11-02\n * Version: 2.0\n *\n * Root component of the SmartRecommender e-commerce React application.\n * Configures routing, authentication, context providers, and global UI elements.\n *\n * Features:\n *   - React Router v6 routing configuration\n *   - Protected routes with authentication\n *   - Role-based access control (client vs admin)\n *   - Global context providers (Auth, Cart, Favorites)\n *   - Animated page transitions (Framer Motion)\n *   - Toast notifications (React Toastify)\n *   - Accessibility toolbar\n *   - Scroll restoration on navigation\n *   - Conditional navbar/footer rendering\n *\n * Route Structure:\n *   Public Routes:\n *     - /home - Landing page\n *     - /shop - Product catalog\n *     - /shop/:category - Category filtered products\n *     - /product/:id - Product detail page\n *     - /search/:query - Search results\n *     - /about - About page\n *     - /blog - Blog listing\n *     - /blog/:id - Blog article\n *     - /faq - FAQ page\n *     - /contact - Contact form\n *     - /login - Login page (public route, redirects if authenticated)\n *     - /register - Registration page\n *\n *   Protected Routes (requires authentication):\n *     - /cart - Shopping cart\n *     - /favorites - Saved products\n *     - /client/* - Client panel routes\n *     - /admin/* - Admin panel routes (admin role required)\n *\n * Context Providers:\n *   1. AuthContext - User authentication state\n *   2. ShopContext (CartContext) - Shopping cart management\n *   3. FavoritesProvider - Favorites management\n *\n * Global Components:\n *   - Navbar - Main navigation (hidden on admin/client panels)\n *   - Footer - Footer (hidden on admin/client panels)\n *   - AccessibilityToolbar - WCAG compliance tools\n *   - ToastContainer - Global notifications\n *   - ScrollToTop - Scroll restoration utility\n *\n * Authentication Flow:\n *   1. PrivateRoute checks for user in AuthContext\n *   2. If no user, redirects to /login\n *   3. PublicRoute redirects authenticated users away from login/register\n *\n * Animation:\n *   - AnimatePresence wraps Routes for page transitions\n *   - mode=\"sync\" - Smooth transitions between pages\n *   - key={location.pathname} - Unique key for each route\n *\n * @component\n * @returns {React.ReactElement} Complete application with routing and providers\n */import{Route,Routes,useLocation,Navigate}from\"react-router-dom\";import{AnimatePresence}from\"framer-motion\";import{ToastContainer}from\"react-toastify\";import React,{useContext}from\"react\";import{AuthContext}from\"./context/AuthContext\";import\"react-toastify/dist/ReactToastify.css\";import Navbar from\"./components/Navbar/Navbar\";import Home from\"./pages/Home\";import About from\"./pages/About\";import Faq from\"./pages/Faq\";import Blog from\"./pages/Blog\";import BlogId from\"./components/BlogContent/Article/Article\";import Contact from\"./pages/Contact\";import Footer from\"./components/Footer/Footer\";import NotFound from\"./components/NotFound/NotFound\";import Shop from\"./pages/Shop\";import Cart from\"./pages/Cart\";import Favorites from\"./pages/Favorites\";import{FavoritesProvider}from\"./components/FavoritesContent/FavoritesContext\";import ShopContext from\"./components/ShopContext/ShopContext\";import ProductSection from\"./pages/ProductSection\";import LoginPanel from\"./components/panelLogin/LoginPanel\";import RegisterPanel from\"./components/panelLogin/RegisterPanel\";import SearchResults from\"./components/Search/SearchResults\";import PublicRoute from\"./components/PublicRoute/PublicRoute\";import AdminPanel from\"./pages/AdminPanel\";import ClientPanel from\"./pages/ClientPanel\";import ClientDashboard from\"./components/ClientPanel/ClientDashboard\";import ClientOrders from\"./components/ClientPanel/ClientOrders\";import ClientComplaints from\"./components/ClientPanel/ClientComplaints\";import ClientAccount from\"./components/ClientPanel/ClientAccount\";import ClientProbabilistic from\"./components/ClientPanel/ClientProbabilistic\";import ScrollToTop from\"./utils/ScrollToTop\";import AccessibilityToolbar from\"./components/AccessibilityToolbar/AccessibilityToolbar\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function PrivateRoute(_ref){let{children,roles}=_ref;const{user}=useContext(AuthContext);if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;}function App(){const location=useLocation();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScrollToTop,{}),!location.pathname.startsWith(\"/admin\")&&!location.pathname.startsWith(\"/client\")&&/*#__PURE__*/_jsx(AccessibilityToolbar,{}),/*#__PURE__*/_jsx(FavoritesProvider,{children:/*#__PURE__*/_jsxs(ShopContext,{children:[location.pathname.startsWith(\"/admin\")||location.pathname.startsWith(\"/client\")?null:/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:3000,hideProgressBar:true,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"colored\"}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"sync\",initial:false,children:/*#__PURE__*/_jsxs(Routes,{location:location,children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/home\"})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shop\",element:/*#__PURE__*/_jsx(Shop,{})}),/*#__PURE__*/_jsx(Route,{path:\"/faq\",element:/*#__PURE__*/_jsx(Faq,{})}),/*#__PURE__*/_jsx(Route,{path:\"/blog\",element:/*#__PURE__*/_jsx(Blog,{})}),/*#__PURE__*/_jsx(Route,{path:\"/blog/:id\",element:/*#__PURE__*/_jsx(BlogId,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{path:\"/favorites\",element:/*#__PURE__*/_jsx(Favorites,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(ProductSection,{})}),/*#__PURE__*/_jsx(Route,{path:\"/category/:category\",element:/*#__PURE__*/_jsx(Shop,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search/:query\",element:/*#__PURE__*/_jsx(SearchResults,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(LoginPanel,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(RegisterPanel,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/*\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:[\"admin\"],children:/*#__PURE__*/_jsx(AdminPanel,{})})}),/*#__PURE__*/_jsxs(Route,{path:\"/client/*\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:[\"client\"],children:/*#__PURE__*/_jsx(ClientPanel,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(ClientDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"orders\",element:/*#__PURE__*/_jsx(ClientOrders,{})}),/*#__PURE__*/_jsx(Route,{path:\"complaints\",element:/*#__PURE__*/_jsx(ClientComplaints,{})}),/*#__PURE__*/_jsx(Route,{path:\"account\",element:/*#__PURE__*/_jsx(ClientAccount,{})}),/*#__PURE__*/_jsx(Route,{path:\"probabilistic\",element:/*#__PURE__*/_jsx(ClientProbabilistic,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]},location.pathname)}),location.pathname.startsWith(\"/admin\")||location.pathname.startsWith(\"/client\")?null:/*#__PURE__*/_jsx(Footer,{})]})})]});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}