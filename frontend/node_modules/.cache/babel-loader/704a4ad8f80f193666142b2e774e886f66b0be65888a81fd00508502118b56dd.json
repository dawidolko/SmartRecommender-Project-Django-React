{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Line}from\"react-chartjs-2\";import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend}from\"chart.js\";import{TrendingUp,Package,Users,BarChart2,AlertTriangle}from\"lucide-react\";import{motion}from\"framer-motion\";import config from\"../../config/config\";import\"./AdminProbabilistic.scss\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend);const Modal=_ref=>{let{isOpen,onClose,title,children}=_ref;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(\"button\",{className:\"common-modal-close modal-close\",onClick:onClose,\"aria-label\":\"Close modal\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:children})]})});};/**\n * AdminProbabilistic Component\n *\n * Dashboard for probabilistic models and forecasting analytics.\n *\n * Probabilistic Models:\n *   1. Markov Chain - Sequential purchase prediction\n *      Formula: P(X_t+1 | X_t) = transition probability matrix\n *\n *   2. Naive Bayes - Purchase/Churn probability\n *      Formula: P(A|B) = P(B|A)P(A) / P(B)\n *\n *   3. Time Series Forecasting - Sales prediction\n *      Methods: Moving average, exponential smoothing\n *\n * Features:\n *   - Sales forecasting with trend visualization\n *   - Product demand prediction\n *   - Risk assessment dashboard\n *   - Purchase probability analysis\n *   - Interactive charts (Chart.js)\n *   - Modal views for detailed insights\n *\n * Tabs:\n *   - forecast: Sales trend forecasts\n *   - demand: Product-level demand prediction\n *   - markov: Sequential purchase patterns\n *   - naive_bayes: Classification probabilities\n *\n * @component\n * @returns {React.ReactElement} Probabilistic analytics dashboard\n */const AdminProbabilistic=()=>{const[activeTab,setActiveTab]=useState(\"forecast\");const[salesForecasts,setSalesForecasts]=useState([]);const[demandForecasts,setDemandForecasts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[modalContent,setModalContent]=useState(null);const[modalTitle,setModalTitle]=useState(\"\");const[isModalOpen,setIsModalOpen]=useState(false);const[chartData,setChartData]=useState([]);useEffect(()=>{fetchData();},[]);const fetchData=async()=>{const token=localStorage.getItem(\"access\");setLoading(true);setError(null);try{const probabilisticRes=await fetch(`${config.apiUrl}/api/admin/probabilistic-analysis/`,{headers:{Authorization:`Bearer ${token}`,\"Content-Type\":\"application/json\"}});if(probabilisticRes.ok){var _probabilisticData$ma,_probabilisticData$pr,_probabilisticData$ba;const probabilisticData=await probabilisticRes.json();setSalesForecasts(((_probabilisticData$ma=probabilisticData.markov_predictions)===null||_probabilisticData$ma===void 0?void 0:_probabilisticData$ma.user_predictions)||[]);setChartData(((_probabilisticData$pr=probabilisticData.predictive_charts)===null||_probabilisticData$pr===void 0?void 0:_probabilisticData$pr.forecast_data)||[]);setDemandForecasts(((_probabilisticData$ba=probabilisticData.bayesian_insights)===null||_probabilisticData$ba===void 0?void 0:_probabilisticData$ba.product_insights)||[]);}else{const[forecastRes,demandRes]=await Promise.all([fetch(`${config.apiUrl}/api/sales-forecast/`,{headers:{Authorization:`Bearer ${token}`,\"Content-Type\":\"application/json\"}}).catch(()=>null),fetch(`${config.apiUrl}/api/product-demand/`,{headers:{Authorization:`Bearer ${token}`,\"Content-Type\":\"application/json\"}}).catch(()=>null)]);const forecast=forecastRes!==null&&forecastRes!==void 0&&forecastRes.ok?await forecastRes.json():{};const demand=demandRes!==null&&demandRes!==void 0&&demandRes.ok?await demandRes.json():{};setSalesForecasts(forecast.forecasts||[]);setChartData(forecast.chart_data||[]);setDemandForecasts(demand.demand_forecasts||[]);}setLoading(false);}catch(error){setError(error.message);setLoading(false);}};const getForecastChartData=()=>{if(!chartData.length){return{labels:[\"No Data\"],datasets:[{label:\"Total Predicted Quantity\",data:[0],borderColor:\"rgb(75, 192, 192)\",backgroundColor:\"rgba(75, 192, 192, 0.1)\",tension:0.1,fill:false}]};}const labels=chartData.map(data=>{const date=new Date(data.date);return date.toLocaleDateString(\"pl-PL\",{month:\"short\",day:\"numeric\",weekday:\"short\"});});const totalPredicted=chartData.map(data=>data.total_predicted_quantity);const totalLower=chartData.map(data=>data.total_confidence_lower);const totalUpper=chartData.map(data=>data.total_confidence_upper);return{labels,datasets:[{label:\"Total Predicted Quantity\",data:totalPredicted,borderColor:\"rgb(75, 192, 192)\",backgroundColor:\"rgba(75, 192, 192, 0.1)\",tension:0.3,fill:true,pointRadius:6,pointHoverRadius:8},{label:\"Confidence Lower Bound\",data:totalLower,borderColor:\"rgba(255, 99, 132, 0.7)\",backgroundColor:\"rgba(255, 99, 132, 0.1)\",borderDash:[5,5],fill:false,pointRadius:3,tension:0.2},{label:\"Confidence Upper Bound\",data:totalUpper,borderColor:\"rgba(255, 99, 132, 0.7)\",backgroundColor:\"rgba(255, 99, 132, 0.1)\",borderDash:[5,5],fill:false,pointRadius:3,tension:0.2}]};};const getForecastChartOptions=()=>{return{responsive:true,maintainAspectRatio:false,interaction:{mode:\"index\",intersect:false},plugins:{title:{display:true,text:\"Sales Forecast - Aggregated Daily Totals\",font:{size:16,weight:\"bold\"}},legend:{display:true,position:\"top\"},tooltip:{callbacks:{title:function(context){const dataIndex=context[0].dataIndex;const data=chartData[dataIndex];if(!data)return context[0].label;const productsCount=data.products_count||0;return`${context[0].label} (${productsCount} products)`;},afterBody:function(context){const dataIndex=context[0].dataIndex;const data=chartData[dataIndex];if(!data)return[\"\"];const products=data.products||[];const productsCount=data.products_count||0;return[\"\",`Products included: ${products.join(\", \")}${productsCount>5?\"...\":\"\"}`,`Total products: ${productsCount}`];}}}},scales:{x:{title:{display:true,text:\"Forecast Date\"},grid:{display:true,color:\"rgba(0,0,0,0.1)\"}},y:{title:{display:true,text:\"Predicted Quantity (Total)\"},beginAtZero:true,grid:{display:true,color:\"rgba(0,0,0,0.1)\"}}}};};const TabButton=_ref2=>{let{id,label,icon:Icon}=_ref2;return/*#__PURE__*/_jsxs(\"button\",{className:`tab-button ${activeTab===id?\"active\":\"\"}`,onClick:()=>setActiveTab(id),children:[/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:label})]});};const showModal=(title,content)=>{setModalTitle(title);setModalContent(content);setIsModalOpen(true);};const closeModal=()=>{setIsModalOpen(false);setModalContent(null);setModalTitle(\"\");};const handleInsightView=async insightType=>{const token=localStorage.getItem(\"access\");try{let modalContent=null;switch(insightType){case\"purchase_patterns\":const patternsRes=await fetch(`${config.apiUrl}/api/admin-purchase-patterns/`,{headers:{Authorization:`Bearer ${token}`,\"Content-Type\":\"application/json\"}});const patternsData=await patternsRes.json();if(!patternsData.purchase_patterns||patternsData.purchase_patterns.length===0){modalContent=/*#__PURE__*/_jsxs(\"div\",{className:\"insight-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No Purchase Patterns Data Available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"There are no purchase patterns recorded in the system.\"})]});}else{modalContent=/*#__PURE__*/_jsxs(\"div\",{className:\"insight-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Purchase Patterns Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"patterns-list\",children:patternsData.purchase_patterns.slice(0,5).map((userData,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-patterns\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"user-patterns-name\",children:[\"User: \",userData.user.email]}),/*#__PURE__*/_jsx(\"div\",{className:\"patterns-grid\",children:userData.patterns.map((pattern,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"pattern-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",pattern.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Purchase Frequency:\"}),\" \",pattern.purchase_frequency,\"/month\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Average Order Value:\"}),\" $\",pattern.average_order_value]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Preferred Time:\"}),\" \",pattern.preferred_time]})]},index))})]},idx))}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Users: \",patternsData.summary.total_users]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Patterns: \",patternsData.summary.total_patterns]})]})]});}showModal(\"PURCHASE PATTERNS\",modalContent);break;case\"customer_segmentation\":modalContent=/*#__PURE__*/_jsxs(\"div\",{className:\"insight-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Customer Segmentation Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"segments-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"segment-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"High Value Customers\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Customers with lifetime value above $500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"segment-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Frequent Shoppers\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Customers making 5+ purchases per month\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"segment-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"At-Risk Customers\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Customers with high churn probability\"})]})]})]});showModal(\"CUSTOMER SEGMENTATION\",modalContent);break;case\"churn_prediction\":const churnRes=await fetch(`${config.apiUrl}/api/admin-churn-prediction/`,{headers:{Authorization:`Bearer ${token}`,\"Content-Type\":\"application/json\"}});const churnData=await churnRes.json();if(!churnData.churn_predictions||churnData.churn_predictions.length===0){modalContent=/*#__PURE__*/_jsxs(\"div\",{className:\"insight-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No Churn Prediction Data Available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"There are no customer churn risks recorded in the system.\"})]});}else{modalContent=/*#__PURE__*/_jsxs(\"div\",{className:\"insight-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Churn Prediction Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"High Risk:\"}),\" \",churnData.summary.high_risk_users]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Medium Risk:\"}),\" \",churnData.summary.medium_risk_users]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Low Risk:\"}),\" \",churnData.summary.low_risk_users]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"churn-list\",children:churnData.churn_predictions.map((prediction,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"churn-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Customer:\"}),\" \",prediction.user_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Risk Level:\"}),\" \",(prediction.risk_score*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Confidence:\"}),\" \",(prediction.confidence*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Mitigation:\"}),\" \",prediction.mitigation]})]},index))})]});}showModal(\"CHURN PREDICTION\",modalContent);break;case\"product_recommendations\":const recRes=await fetch(`${config.apiUrl}/api/admin-product-recommendations/`,{headers:{Authorization:`Bearer ${token}`,\"Content-Type\":\"application/json\"}});const recData=await recRes.json();if(!recData.user_recommendations||recData.user_recommendations.length===0){modalContent=/*#__PURE__*/_jsxs(\"div\",{className:\"insight-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No Product Recommendations Available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"There are no product recommendations generated in the system.\"})]});}else{modalContent=/*#__PURE__*/_jsxs(\"div\",{className:\"insight-modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product Recommendations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recommendations-list\",children:recData.user_recommendations.slice(0,5).map((userData,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-recommendations\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"user-recommendations-name\",children:[\"User: \",userData.user.email]}),/*#__PURE__*/_jsx(\"div\",{className:\"recommendations-grid\",children:userData.recommendations.map((rec,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Product:\"}),\" \",rec.product]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Purchase Probability:\"}),\" \",(rec.probability*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Confidence:\"}),\" \",(rec.confidence*100).toFixed(0),\"%\"]}),rec.price&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" $\",rec.price.toFixed(2)]})]},index))})]},idx))})]});}showModal(\"PRODUCT RECOMMENDATIONS\",modalContent);break;default:break;}}catch(error){showModal(\"Error\",/*#__PURE__*/_jsxs(\"p\",{children:[\"Failed to fetch insight data: \",error.message]}));}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Error loading data:\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchData,className:\"retry-button\",children:\"Retry\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-probabilistic\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"probabilistic-tabs\",children:[/*#__PURE__*/_jsx(TabButton,{id:\"forecast\",label:\"Markov Analysis\",icon:TrendingUp}),/*#__PURE__*/_jsx(TabButton,{id:\"demand\",label:\"Bayesian Insights\",icon:Package}),/*#__PURE__*/_jsx(TabButton,{id:\"insights\",label:\"User Predictions\",icon:Users})]}),/*#__PURE__*/_jsx(Modal,{isOpen:isModalOpen,onClose:closeModal,title:modalTitle,children:modalContent}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},className:\"tab-content\",children:[activeTab===\"forecast\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Markov Chain Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Predicted Units\"}),/*#__PURE__*/_jsx(\"p\",{children:salesForecasts.length>0?salesForecasts.reduce((acc,curr)=>acc+curr.predicted_quantity,0).toLocaleString():0}),/*#__PURE__*/_jsx(\"small\",{children:\"All products combined\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Forecast Period\"}),/*#__PURE__*/_jsx(\"p\",{children:\"30 days\"}),/*#__PURE__*/_jsx(\"small\",{children:chartData.length>0?`${chartData.length} unique dates`:\"No data\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Products Analyzed\"}),/*#__PURE__*/_jsx(\"p\",{children:salesForecasts.length>0?new Set(salesForecasts.map(f=>f.product.id)).size:0}),/*#__PURE__*/_jsx(\"small\",{children:\"Unique products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Avg Daily Forecast\"}),/*#__PURE__*/_jsx(\"p\",{children:chartData.length>0?Math.round(chartData.reduce((acc,curr)=>acc+curr.total_predicted_quantity,0)/chartData.length).toLocaleString():0}),/*#__PURE__*/_jsx(\"small\",{children:\"Units per day\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Line,{data:getForecastChartData(),options:getForecastChartOptions()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-table\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Detailed Forecast\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Predicted Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Confidence Range\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Accuracy\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:salesForecasts.length>0?salesForecasts.slice(0,10).map((forecast,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:forecast.product.name}),/*#__PURE__*/_jsx(\"td\",{children:new Date(forecast.forecast_date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:forecast.predicted_quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[forecast.confidence_interval[0],\" -\",\" \",forecast.confidence_interval[1]]}),/*#__PURE__*/_jsxs(\"td\",{children:[forecast.historical_accuracy,\"%\"]})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",style:{textAlign:\"center\"},children:\"No data available\"})})})]})]})]}),activeTab===\"demand\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"demand-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"demand-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Bayesian Insights Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alerts\",children:demandForecasts.some(d=>d.expected_demand>d.reorder_point)&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning\",children:[/*#__PURE__*/_jsx(AlertTriangle,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Some products need reordering\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"demand-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Period\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Expected Demand\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reorder Point\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Suggested Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:demandForecasts.length>0?demandForecasts.slice(0,15).map((demand,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:demand.product.name}),/*#__PURE__*/_jsx(\"td\",{children:demand.forecast_period}),/*#__PURE__*/_jsx(\"td\",{children:demand.expected_demand}),/*#__PURE__*/_jsx(\"td\",{children:demand.reorder_point}),/*#__PURE__*/_jsx(\"td\",{children:demand.suggested_stock_level}),/*#__PURE__*/_jsx(\"td\",{children:demand.expected_demand>demand.reorder_point?/*#__PURE__*/_jsx(\"span\",{className:\"status-warning\",children:\"Reorder Soon\"}):/*#__PURE__*/_jsx(\"span\",{className:\"status-ok\",children:\"OK\"})})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",style:{textAlign:\"center\"},children:\"No data available\"})})})]})})]}),activeTab===\"insights\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"insights-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insights-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Prediction Analysis\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"insights-refresh\",onClick:fetchData,children:[/*#__PURE__*/_jsx(BarChart2,{}),\"Refresh Data\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insights-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Purchase Patterns\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Analyzing user purchase behavior across categories\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-details\",onClick:()=>handleInsightView(\"purchase_patterns\"),children:\"View Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Customer Segmentation\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Segment users based on buying behavior\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-details\",onClick:()=>handleInsightView(\"customer_segmentation\"),children:\"View Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Churn Prediction\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Identify customers at risk of churning\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-details\",onClick:()=>handleInsightView(\"churn_prediction\"),children:\"View Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product Recommendations\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Personalized product recommendations\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-details\",onClick:()=>handleInsightView(\"product_recommendations\"),children:\"View Details\"})]})]})]})]},activeTab)]});};export default AdminProbabilistic;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}