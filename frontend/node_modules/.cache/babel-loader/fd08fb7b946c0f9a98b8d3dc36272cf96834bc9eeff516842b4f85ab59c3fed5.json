{"ast":null,"code":"import{createContext,useState,useEffect}from\"react\";/**\n * CartContext - Shopping cart state management\n *\n * Provides global shopping cart state using React Context API.\n * Manages cart items with localStorage persistence.\n *\n * Features:\n *   - Cart persistence across sessions (localStorage)\n *   - Add/remove products\n *   - Quantity management\n *   - Automatic cart loading on mount\n *\n * Context Values:\n *   - cart: Array of cart items [{id, name, price, quantity, photos}, ...]\n *   - fetchCart(): Load cart from localStorage\n *   - updateCart(newCart): Update cart state and persist to localStorage\n *   - addToCart(product): Add product or increment quantity\n *   - removeFromCart(itemId): Remove item from cart\n *\n * Cart Item Structure:\n *   {\n *     id: number,\n *     name: string,\n *     price: number,\n *     quantity: number,\n *     photos: array,\n *     ...other product fields\n *   }\n *\n * @context\n */import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();/**\n * CartProvider Component\n *\n * Wraps application with shopping cart context provider.\n * Automatically loads cart from localStorage on mount.\n *\n * @component\n * @param {Object} props\n * @param {React.ReactNode} props.children - Child components\n * @returns {React.ReactElement} Context provider with cart state\n */export const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);useEffect(()=>{fetchCart();},[]);const fetchCart=()=>{const storedCart=localStorage.getItem(\"cart\");if(storedCart){setCart(JSON.parse(storedCart));}};const updateCart=newCart=>{setCart(newCart);localStorage.setItem(\"cart\",JSON.stringify(newCart));};const addToCart=product=>{const existingItem=cart.find(item=>item.id===product.id);if(existingItem){const updatedCart=cart.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item);updateCart(updatedCart);}else{updateCart([...cart,{...product,quantity:1}]);}};const removeFromCart=itemId=>{const updatedCart=cart.filter(item=>item.id!==itemId);updateCart(updatedCart);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,fetchCart,updateCart,addToCart,removeFromCart},children:children});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}