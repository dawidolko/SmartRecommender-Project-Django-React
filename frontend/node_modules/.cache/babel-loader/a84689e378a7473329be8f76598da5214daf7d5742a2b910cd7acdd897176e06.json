{"ast":null,"code":"import\"./FavoritesContent.scss\";import{useContext,useEffect,useState}from\"react\";import axios from\"axios\";import{useFavorites}from\"./FavoritesContext\";import{CartContext}from\"../ShopContext/ShopContext\";import FavoritesProduct from\"./FavoritesProduct\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import config from\"../../config/config\";import{mockAPI}from\"../../utils/mockData\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FavoritesContent=()=>{const{favorites,removeFromFavorites}=useFavorites();const{addToCart}=useContext(CartContext);const[products,setProducts]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchProducts=async()=>{try{if(config.useMockData){const data=await mockAPI.getProducts();setProducts(data);}else{const response=await axios.get(`${config.apiUrl}/api/products/`);setProducts(response.data);}}catch(error){console.error(\"Error fetching products:\",error);}};fetchProducts();},[]);const handleMoveToCart=productId=>{const product=products.find(item=>item.id===productId);if(product){addToCart(product.id);removeFromFavorites(product.id);toast.success(\"Moved to Cart\",{position:\"top-center\",autoClose:3000,theme:\"colored\"});}};const handleRemoveFromFavorites=productId=>{removeFromFavorites(productId);toast.success(\"Removed from Favorites\",{position:\"top-center\",autoClose:3000,theme:\"colored\"});};return/*#__PURE__*/_jsx(\"div\",{className:\"favorites container\",children:favorites.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"favorites__container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"favorites__table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"favorites__thead\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"favorites__row\",children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:favorites.map(fav=>{const product=products.find(p=>p.id===fav.id);if(product){return/*#__PURE__*/_jsx(FavoritesProduct,{product:product,onMoveToCart:handleMoveToCart,onRemoveFromFavorites:handleRemoveFromFavorites},product.id);}return null;})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"favorites__empty\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"favorites__empty-title\",children:\"Your Favorites are empty\"}),/*#__PURE__*/_jsx(\"button\",{className:\"favorites__empty-btn\",onClick:()=>navigate(\"/shop\"),children:\"Go To Shopping\"})]})});};export default FavoritesContent;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}