{"ast":null,"code":"import\"./Testimonials.scss\";import{useNavigate}from\"react-router-dom\";import{useContext}from\"react\";import{CartContext}from\"../ShopContext/ShopContext\";import{toast}from\"react-toastify\";import config from\"../../config/config\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TestimonialsItem=_ref=>{var _photos$,_categories$;let{id,photos,name,price,old_price,categories}=_ref;const navigate=useNavigate();const{items,addToCart}=useContext(CartContext);const itemsInfo=items?items[id]:0;const handleBoxClick=()=>{if(id){navigate(`/product/${id}`);}};const handleAddToCart=e=>{e.stopPropagation();addToCart(id);toast.success(\"Added to Cart\",{position:\"top-center\",autoClose:3000,theme:\"colored\"});};const formattedPrice=typeof price===\"string\"&&!isNaN(parseFloat(price))?parseFloat(price).toFixed(2):\"N/A\";const formattedOldPrice=old_price&&typeof old_price===\"string\"&&!isNaN(parseFloat(old_price))?parseFloat(old_price).toFixed(2):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"testimonials__box\",onClick:handleBoxClick,children:[/*#__PURE__*/_jsx(\"div\",{className:\"testimonials__image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:photos!==null&&photos!==void 0&&(_photos$=photos[0])!==null&&_photos$!==void 0&&_photos$.path?`${config.apiUrl}/media/${photos[0].path}`:\"/placeholder.jpg\",alt:name,className:\"testimonials__img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"testimonials__content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"testimonials__category\",children:`CATEGORY: ${(categories===null||categories===void 0?void 0:(_categories$=categories[0])===null||_categories$===void 0?void 0:_categories$.replace(\".\",\" > \").toUpperCase())||\"N/A\"}`}),/*#__PURE__*/_jsx(\"p\",{className:\"testimonials__name\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"testimonials__prices\",children:[formattedOldPrice&&/*#__PURE__*/_jsxs(\"span\",{className:\"testimonials__old-price\",children:[\"$\",formattedOldPrice]}),/*#__PURE__*/_jsxs(\"span\",{className:\"testimonials__current-price\",children:[\"$\",formattedPrice]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"testimonials__btn\",onClick:handleAddToCart,children:[\"ADD TO CART \",itemsInfo>0&&/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",itemsInfo,\")\"]})]})]})]});};export default TestimonialsItem;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}